# 更新日志

## v1.2.1 - 2025-06-06

### 修复

- 窗口打开卡顿跳动问题

## v1.2.0 - 2025-05-31

### 新增功能

- **文件统计信息** - 在目录树中显示文件行数和大小信息，方便评估代码量和文件体积
- **复制内容行数统计** - 在状态栏显示复制内容的总行数，便于了解操作规模
- **自动保存机制** - 确保配置不会意外丢失，防止设置文件在保存过程中损坏
- **改进的.gitignore 处理** - 优化缓存机制

## v1.1.0 - 2025-05-17

### 架构优化

- **模块化重构**：将代码按功能拆分为独立模块，提高可维护性和可扩展性
- **配置集中化**：新增 config.py 集中管理所有配置常量
- **高级状态管理**：改进目录树状态保持逻辑，更稳定的展开状态记忆

### 新增功能

- **系统托盘支持**：最小化到系统托盘，减少工作区占用
- **全局热键**：Ctrl+2 快捷键可在任何应用中快速显示/隐藏窗口
- **窗口置顶**：可选择保持窗口始终置顶
- **鼠标框选模式**：通过拖动鼠标批量选择文件
- **.gitignore 支持**：根据项目.gitignore 规则过滤文件，避免显示临时文件和构建产物
- **右键菜单增强**：
  - 在文件资源管理器中打开选中文件夹 (Ctrl+F)
  - 在选中文件夹中打开命令行终端 (Ctrl+T)
- **主要操作改进**：
  - 分离"重置树"（只保留根节点展开）和"更新树"（保留当前展开状态）功能
  - 保存和恢复每个项目的精确展开状态
- **界面优化**：
  - 隐藏/显示高级选项，增加目录树显示空间
  - 重新设计的状态栏，提供更清晰的操作反馈

### 技术改进

- **多线程支持**：使用独立线程处理系统托盘和热键监听
- **智能路径处理**：改进.gitignore 解析和路径匹配算法
- **性能优化**：提高大型目录处理速度和内存使用效率

## v1.0.0 - 2025-05-07

### 初始版本发布

- 用户友好的图形界面，基于 Tkinter 开发，支持 Windows 平台

### 实现基本功能

- **目录树可视化**：直观展示项目结构，支持展开/折叠操作
- **目录树导出**：可将树状结构导出为文本文件或复制到剪贴板
- **文件筛选系统**：
  - 支持正则表达式过滤文件名
  - 可控制是否显示隐藏文件/文件夹
  - 可设置目录树最大深度
- **多种复制模式**：
  - 复制文件路径（支持相对路径或绝对路径）
  - 复制文件代码内容
  - 复制文件名
  - 同时复制路径与代码内容
- **内容格式化**：可自定义路径和代码的前缀/后缀
- **智能编码检测**：自动识别和处理各种文本编码，尤其中文编码
- **设置持久化**：自动保存用户偏好设置
- **路径历史记录**：记住最近使用的目录路径

### 添加多语言支持

- 支持简体中文和英文界面
- 语言设置被保存并在重启应用后自动应用
